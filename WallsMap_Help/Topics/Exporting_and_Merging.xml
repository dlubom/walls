<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="David" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Exporting and Merging</title>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Exporting and Merging</text></para>
    </header>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Subheader" translate="true">Exporting an Entire Shapefile or a Subset of Records</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The shapefile export dialog can be accessed in several different ways. An entire shapefile can be exported by selecting its layer in the Layers window and clicking the &quot;Export&quot; button on the right panel. A more flexible approach, however, is to click the &quot;Open Table&quot; button on that panel. A selected subset of records, possibly with fields reordered and certain fields excluded, can then be exported by right-clicking one of the highlighted records and choosing </text><text styleclass="Normal" style="font-style:italic;" translate="true">Export shapefile</text><text styleclass="Normal" translate="true"> from the context menu. Finally, you can load a group of features into the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Editing_Records" styleclass="Normal" translate="true">Selected Points</link><text styleclass="Normal" translate="true"> window (say by text search or by dragging a rectangle on the map), then select either </text><text styleclass="Normal" style="font-style:italic;" translate="true">Export shapefile</text><text styleclass="Normal" style="font-style:normal;" translate="true"> (for a direct export)</text><text styleclass="Normal" style="font-style:italic;" translate="true">&#32;</text><text styleclass="Normal" style="font-style:normal;" translate="true">or</text><text styleclass="Normal" style="font-style:italic;" translate="true"> Open table for branch </text><text styleclass="Normal" style="font-style:normal;" translate="true">from the branch&apos;s context menu:</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><image src="Branch_export.png" scale="100.00%" styleclass="Image Caption"></image></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Normal" style="font-style:normal;" translate="true">In all cases the export dialog should look similar to the one shown below. If you want to use this function to either change field types or add new fields, you must specify a modified </text><text styleclass="Normal" style="font-style:italic;" translate="true">template</text><text styleclass="Normal" style="font-style:normal;" translate="true"> file of the type described in </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Template_File_Format" styleclass="Normal" style="font-style:normal;" translate="true">Template File Format</link><text styleclass="Normal" style="font-style:normal;" translate="true">. Simply deleting unneeded fields doesn&apos;t require a template if you&apos;re exporting from a table view. Just hide those layers first by selecting </text><text styleclass="Normal" style="font-style:italic;" translate="true">Column visibility</text><text styleclass="Normal" style="font-style:normal;" translate="true"> table header&apos;s </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Getting_Started" anchor="Header_context_menu" styleclass="Normal" style="font-style:normal;" translate="true">context menu</link><text styleclass="Normal" style="font-style:normal;" translate="true">, then be sure to check the box labeled </text><text styleclass="Normal" style="font-weight:normal; font-style:italic;" translate="true">Or use table layout</text><text styleclass="Normal" style="font-style:normal;" translate="true"> in the Export dialog as was done here:</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><image src="Shape_export.png" scale="100.00%" styleclass="Image Caption"></image></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Notice that a checkbox labeled </text><text styleclass="Normal" style="font-style:italic;" translate="true">Create 2D shapefile</text><text styleclass="Normal" translate="true"> is enabled, not grayed, because the program recognizes that the source is </text><text styleclass="Normal" style="font-style:italic;" translate="true">not</text><text styleclass="Normal" translate="true"> a 2D shapefile. Other possible types are </text><text styleclass="Normal" style="font-style:italic;" translate="true">pointZ</text><text styleclass="Normal" translate="true">, </text><text styleclass="Normal" style="font-style:italic;" translate="true">polylineZ</text><text styleclass="Normal" translate="true">, </text><text styleclass="Normal" style="font-style:italic;" translate="true">polygonZ</text><text styleclass="Normal" translate="true">, </text><text styleclass="Normal" style="font-style:italic;" translate="true">pointM</text><text styleclass="Normal" translate="true">, </text><text styleclass="Normal" style="font-style:italic;" translate="true">polylineM</text><text styleclass="Normal" translate="true">, and </text><text styleclass="Normal" style="font-style:italic;" translate="true">polygonM</text><text styleclass="Normal" translate="true">. The M types store (in the SHP file member) one extra number with each coordinate pair, a &quot;measure&quot; denoted by M. The Z types store both M and a vertical component Z. Given that the program doesn&apos;t yet use or provide access to these numbers, you might want to leave this box checked. The extra data will then be removed, conserving space and making the 2D coordinates editable. (See </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Limitations" styleclass="Normal" translate="true">Limitations</link><text styleclass="Normal" translate="true">.)</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">M and Z shapefiles are relatively rare, with most GIS programs treating them as if they were 2D. The Texas Department of Transportation (TxDOT) has been making state-wide polylineM shapefiles available, where M is the interpolated travel distance along the road represented by the polyline.The cave mapping program </text><text styleclass="Normal" style="font-style:italic;" translate="true">Walls</text><text styleclass="Normal" translate="true"> optionally exports pointZ and polylineZ shapefiles, where the Z values are elevations. A popular program for visualizing 3D shapefiles is the </text><text styleclass="Normal" style="font-style:italic;" translate="true">ArcGIS 3D Analyst</text><text styleclass="Normal" translate="true"> extension. Other programs, such as </text><text styleclass="Normal" style="font-style:italic;" translate="true">Global Mapper</text><text styleclass="Normal" translate="true">, can convert 3D shapefiles to KML for viewing in Google Earth.</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Subheader" translate="true">Copying Records from One Shapefile to Another</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Transferring records between shapefile layers is possible if the source and destination shapefiles have compatible structures. This requires that at least one field name is common to each shapefile, and that the types for matching fields are either 1) the same, 2) both either C (text) or M (memo), or 3) both either C or N (numeric). This operation is currently enabled only for 2D point shapefiles, but I plan to relax this restriction.</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The Selected Points dialog is one place you can accomplish such a merge. First, select the records from the source shapefile using a convenient method. Next, right-click the appropriate branch (or single leaf item) in the left panel of the Selected Points window and choose </text><text styleclass="Normal" style="font-style:italic;" translate="true">Copy branch to layer </text><text styleclass="Normal" style="font-style:normal;" translate="true">(or</text><text styleclass="Normal" style="font-style:italic;" translate="true"> Copy point to layer</text><text styleclass="Normal" style="font-style:normal;" translate="true">). You&apos;ll then be offered a list of suitable target shapefiles -- that is, all project layers that are compatible and editable, possibly with their visibilities turned off. (If there are no such candidates, the option simply won&apos;t appear in the menu.) Once you choose a target you&apos;ll be asked to confirm the copy -- a prompt you can disable for subsequent copies to the same target.</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Normal" style="font-style:normal;" translate="true">If the structures aren&apos;t identical apart from the order of fields, you&apos;ll be informed of the differences, warned if data truncation is a possibility, and asked to confirm the copy once again. (This prompt can&apos;t be disabled.) If you proceed with the operation and truncation actually occurs, the first field and record number where this happened is reported upon completion.</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Normal" style="font-style:normal;" translate="true">If the Selected Points window is already displaying items from more than one shapefile, you can also perform a copy operation by left-dragging either a branch or single item of one shapefile to a portion of the tree representing another. When you use this method, the copied items will disappear from the source shapefile&apos;s selection and appear as selected items in the destination shapefile. This is still only a copy, not a move; records in the source shapefile aren&apos;t deleted.</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text styleclass="Normal" style="font-style:normal;" translate="true">Another place to perform copy operations is in a table view, where the pop-up menu for highlighted rows will have a </text><text styleclass="Normal" style="font-style:italic;" translate="true">Copy selection to layer</text><text styleclass="Normal" style="font-style:normal;" translate="true"> option when suitable targets are available. There are two reasons why this might be the preferred approach. First, the selection can be the whole table or any subset of rows, possibly non-contiguous. Second, the copied records remain selected, so it&apos;s trivially easy to accomplish a move by right-clicking once again and choosing </text><text styleclass="Normal" style="font-style:italic;" translate="true">Delete selection</text><text styleclass="Normal" style="font-style:normal;" translate="true">.</text></para>
    <para styleclass="Normal"></para>
  </body>
</topic>
