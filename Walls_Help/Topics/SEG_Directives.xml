<?xml version="1.0" encoding="UTF-8"?>
<topic template="Default" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">#Segment Directive</title>
  <keywords>
    <keyword translate="true">#SEG Directives</keyword>
  </keywords>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">#Segment Directive</text></para>
    </header>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">#Segment directive is used to assign named attributes, called </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">segments</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">, to survey vectors. &#160;By making such assignments we can obtain statistics for and graphically distinguish between different portions of a project&apos;s data, regardless of how it&apos;s organized into data files. &#160;Segments are operated on via the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Segment_Page" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Segments page</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> of the review dialog.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The key thing to notice first is that segment names are analogous to DOS or Unix</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true"> pathnames</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">in that they group vectors into a tree-like hierarchy, much the same way that files are grouped into folders on your hard disk. &#160;The directive form is</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">#Segment &lt;absolute or relative &quot;pathname&quot;&gt;</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">An example is</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">#S /Bat room/Lower level/March95</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">When the directive appears on a line by itself, it defines the segment for vectors that follow, up until the next #Segment directive on a line by itself. &#160;When the directive appears </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">as the last item</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> on a vector&apos;s data line, however, it applies to</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">that vector alone</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">and does not affect what segment is assigned to vectors above and below it. &#160;Currently, this is the </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">only</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> directive that can appear on the same line as vector data.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Like pathnames, segment names consist of components separated by slashes (either forward slashes or backslashes). &#160;When the segment name does </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">not</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> begin with a slash, the name is &quot;relative&quot; and does not replace</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">but instead </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">appends to</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> the current segment name at that point in the file. &#160;In the Hackberry Cave illustration (see </text><link displaytype="text" defaultstyle="true" type="topiclink" href="SRV_Files" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">SRV Files - Quick Overview</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">) vector </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">H2 H2B </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">is actually in segment </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">/Side shot/Lead/Dig</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. &#160;The maximum allowed length of the expanded segment name is 255 characters. Note that unlike pathnames the case of characters (upper or lower) is significant.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The #Segment directive is almost exactly like the DOS </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">change directory</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> (CD) command, except that the names are case sensitive</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">and can have embedded spaces.</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true"> &#160;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Also, segments don&apos;t need to be predefined; they are automatically created when new names are specified.</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true"> &#160;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The dot notation of pathnames can even be used. &#160;For example, &#160;&quot;#S ..&quot;</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">means &quot;back up one level in the current segment hierarchy&quot;. &#160;Assignments like</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">&quot;#S ../../X&quot; are allowed, but I suggest the use of absolute (slash prefixed) segment names whenever possible to avoid confusion.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Segments are optional and have no affect on the compilation of survey data. &#160;Their importance is that they allow you to assign map features (colors, line styles, labels, markers, etc) to as many parts of a network as you may want to distinguish between. &#160;In Hackberry Cave, for example, you can easily highlight the &quot;Lead&quot; vectors, or exclude &quot;Side shot&quot; vectors from the map. &#160;You can also view statistics (length totals, vertical ranges, etc.) and obtain vector/coordinate listings for different parts of the segment hierarchy. &#160;By </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">detaching</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> branches of the tree you can exclude vectors from the map, from listings, or from statistical summaries. &#160;Operations on the segment tree (color assignments, etc.) are among the things preserved in a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Workfiles_Created_by_Walls" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">database</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> that is initialized (or updated) at the time of compilation. &#160;Recompilation of a project branch will normally preserve any assignments you&apos;ve already made.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Segments can specify geography (caves, passage names, levels) and also vector &quot;types&quot; (surface, length excluded, underwater) -- it&apos;s your choice since Walls doesn&apos;t support any predefined vector types. &#160;If the Hackberry Cave example were part of a compilation, you might see the following tree diagram in the Segments page:</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><table rowcount="1" colcount="2" style="cell-padding:0px; cell-spacing:0px; border-width:0px; cell-border-width:0px;">
      <tr style="vertical-align:top">
        <td style="width:246px;">
          <para styleclass="Normal"><image src="SEGTREE.bmp" scale="100.00%" style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;"></image></para>
        </td>
        <td style="width:536px;">
          <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The reason that</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true"> Area Caves</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> and</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true"> Hackberry Cave </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">appear in the segment diagram on the left is that these </text><link displaytype="text" defaultstyle="true" type="topiclink" href="project_tree" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">project tree</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> items happen to be part of a larger branch that was compiled -- namely, </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">West Ft Hood Area.</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> &#160;Also, the &quot;define segment&quot; option</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">was turned on for these items (see </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Properties_Dialog" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Properties Dialog</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">). &#160;In fact, it is usually convenient that the project tree itself define </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">segment name prefixes</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> for the survey files. &#160;This means that the higher levels of the </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">segment hierarchy</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> assigned to vectors are usually determined by the </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">file hierarchy</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> stored in the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="project_script_file" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">project script</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. &#160;When such prefixes are enabled, you cannot override them within the files themselves. The directive &quot;#S /&quot;, for example, resets the segment name to whatever is assigned to the file by the project script.</text></para>
          <para styleclass="Normal"></para>
        </td>
      </tr>
    </table></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">As you can see above, attribute names defined </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">within</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> survey data files are displayed in a distinct user-chosen font (underlined in this case). &#160;Attributes defined by the </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">file hierarchy</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> via &quot;define segment&quot; are represented in the diagram by project branch </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">titles, </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">displayed in another font. &#160;The actual attribute names, in this case, are the workfile and survey file base names. &#160;The complete segment name for vector</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true"> H2 H2B </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">is something like </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">/AREA/HACK/Side shot/Lead/Dig, </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">where &quot;AREA&quot; is the workfile base name for </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">Area Caves</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> and &quot;HACK.SRV&quot; is the name of the data file for </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">Hackberry Cave.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Another thing to notice about the diagram is that the icon representing the assigned map features for </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">Area Caves </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">is missing. &#160;That&apos;s because the </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">Area Caves</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> assignments happen to be </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">disabled</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> -- the result of selecting that tree item and clicking a button labeled &quot;Inherit&quot;.</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> This means that the </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">default</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> assignments for </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">Area Caves</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> vectors are inherited from its parent, </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">West Ft Hood Area</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. &#160;In this case, however, those defaults (white lines, etc.) will not be used for either </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">Hackberry Cave</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> or </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">Surface Surveys</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> since those items&apos; own assignments have been </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">enabled </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">-- a result of clicking &quot;Use Own&quot;.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Finally, I should try to clarify one other potentially confusing aspect of segments. &#160;You may have noticed that we are attempting to use one naming scheme for two basic</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">types</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">of attributes assignable to vectors: </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">branch-type</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> attributes that appear only once in the hierarchy (cave names, files, regions, etc.) and </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">flag-type</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> attributes that may be duplicated in many different parts of the hierarchy (&quot;Surface&quot;, &quot;Side shot&quot;, &quot;Lead&quot;, etc.). &#160;The latter are analogous to the letter-designated shot &quot;types&quot; that are supported in other cave surveying programs (e.g., SMAPS).</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">One question you may have about this approach concerns the assignment of map features for flag-type attributes. &#160;For example, how can we easily change the color of all side shots without having to exhaustively search the segment tree, expanding branches, in an attempt to find all appearances of the side shot attribute? &#160;The solution provided by Walls is the button, &quot;Apply to All&quot;. </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">It&apos;s necessary to find just </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">one occurrence</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> in the tree of &quot;Side shot&quot;, configure it with the desired map settings, and then click the button &quot;Apply to All&quot;. &#160;This will cause those settings to be copied to all other tree nodes with the name &quot;Side shot&quot;. &#160;The copied settings include the Inherit/Use Own and Attach/Detach states of that attribute, as well as the color, line style, label, and marker assignments.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Another question concerns the possibility (or rather likelihood) of having multiple flag-type attributes assigned to a vector. &#160;These attributes may not logically fit the hierarchical relationship we are forcing them into. &#160;For example, what are the implications of having each of the segment suffixes</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true"> .../Side shot/Lead</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> and </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">.../Lead/Side shot </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">in the same survey?</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Well, for one thing, unneeded branches can clutter the tree diagram and for that reason alone you may want to decide on some precedence rules for assigning the flag attributes you intend to use. &#160;Apart from that, you should have little trouble choosing map settings to differentiate between vector types. &#160;To highlight leads and not side shots, for example, </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">enable</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> the &quot;Lead&quot; settings, set the desired line color for &quot;Lead&quot;, and </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">disable </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">the &quot;Side shot&quot; settings. &#160;After each setting change, be sure to click &quot;Apply to All&quot;. &#160;You will find that the order of appearance of the two attributes in the segment name is irrelevant in this case.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Some types of operations on the segment tree may not admit of many shortcuts -- for example, displaying all side shots as dotted lines while other attributes determine their color. &#160;This can still be accomplished however. &#160;Just remember that a vector belongs to just one segment, or node of the tree, and that you can explicitly set the map attributes of each and every unique segment in a survey network.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The #Segment directive is easier to use than to read about. &#160;Please load some sample data and experiment with the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Segment_Page" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Segments page</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> of the review dialog. &#160;Later, you may want to come back and reread this material.</text></para>
    <para style="tabstops:24px left ;"></para>
  </body>
</topic>
