<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="David" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Variance Assignments</title>
  <keywords>
    <keyword translate="true">Variance Assignments</keyword>
  </keywords>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Variance Assignments</text></para>
    </header>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">A variance assignment is an optional parenthetical expression following the last numeric item on compass and tape (CT) and rectangular coordinate (RECT) data lines. &#160;(See </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Vector_Type" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Vector Type</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">.) &#160;It can also appear after the coordinates in a #FIX directive. &#160;Its purpose is to override the default </text><link displaytype="text" defaultstyle="true" type="topiclink" href="variance" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">variance</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> (inverse weight) that the program assigns to that vector during adjustment and error analysis.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">By default, the program converts a CT vector to its east-north-up components and assigns to </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">each component </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">a variance of </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&lt;total length in feet&gt;/100 ft², </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">the same default used by the mainframe program Ellipse, the precursor of Walls. &#160;This is equivalent to a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="standard_deviation" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">standard deviation</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> of 0.3 m for a 30-meter shot.</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> The variance of a traverse is simply the sum of the variances of its component vectors regardless of vector type.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Unlike CT vector components, the components of RECT vectors and </text><link displaytype="text" defaultstyle="true" type="topiclink" href="FIX_Directive" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">#Fix</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> points are assigned default variances of zero. This means they won&apos;t be changed by a least squares adjustment. Most likely you&apos;ll want to override the default as described below, particularly for #Fix points representing GPS locations.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Our experience in working with several large project data sets over the years suggests that the default variance assignment results in horizontal and vertical </text><link displaytype="text" defaultstyle="true" type="topiclink" href="UVE" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">unit variance estimates</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> (UVEs) in the range 0.2 to 2 for typical cave surveys in which all evident blunders have been corrected or discarded. &#160;You might experience a different, hopefully narrower range, but adopting the default makes interpreting the statistics easier and allows us to objectively compare different surveys and loop systems. &#160;In fact, if surveyors were willing to annotate their maps with a consistency rating like &quot;UveH=1.20(14), UveV=0.55(15)&quot;</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">alongside the usual instrument details, we would have enough information in some cases to obtain rough &quot;confidence regions&quot; for location estimates. &#160;The numbers in parentheses are the horizontal and vertical loop counts, which measure the significance of the UVEs and allow them to be properly combined with data from other surveys.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">For a brief explanation of why we chose this simple length-proportional model for variance as opposed to one that incorporates specified standard deviations of actual measurements, see </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Adjustment_Model" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Choice of Mathematical Model</link><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">. &#160;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">For the mathematical details of how these variances are used in Walls, see </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Statistical_Formulas" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Statistical Formulas</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para styleclass="Normal"><text styleclass="Subheader" translate="true">Variance Overrides</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The variance override, if present, follows the last coordinate or measurement of a line defining a vector. It is a parenthetical expression, with no embedded tabs or spaces, that has the following form:</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><table rowcount="1" colcount="2" style="width:auto; cell-padding:0px; cell-spacing:0px; page-break-inside:auto; border-width:0px; border-spacing:0px; cell-border-width:0px; border-style:none; background-color:none; head-row-background-color:none; alt-row-background-color:none;">
      <tr style="vertical-align:top">
        <td style="width:45px;">
          <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">(h,v)</text></para>
          <para style="tabstops:24px left ;"></para>
        </td>
        <td style="width:429px;">
          <para styleclass="Normal"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Examples: (1000,2000), &#160;(R5,R10), &#160;(r5,*), &#160;(1000000,?), &#160;etc.</text></para>
        </td>
      </tr>
    </table></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Parts </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">h</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> and </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">v</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> are each either an asterisk (*), a question mark (?), a nonnegative number, or a number prefixed with the letter R. The meanings of these different forms are explained in the sections below. The </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">h</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> part determines the variance Walls will assign to each of the two horizontal error components. The </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">v </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">part determines the vertical component&apos;s variance.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Alternative forms are </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">(h,) </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">and </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true"> (,v)</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> which specify that only one of the two kinds of component variance (horizontal or vertical) is being overridden. In other words, to retain the </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">default variance</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> ordinarily given to a component type, we would simply include the comma separator without an associated assignment. Another alternative form is </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">(h)</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">,</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">which means that expression </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">h</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> applies to the vertical component as well. For example, (*) is the same as (*,*).</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" translate="true">Expressing Variance as Length</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">When a non-prefixed number is used for </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">v</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> or </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">h,</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> it will be interpreted as a </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">length</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> override</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">.</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> In deriving a component&apos;s variance, Walls will treat the vector as if it were an ordinary compass-and-tape vector of the specified length.</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The distance units as specified in the #Units directive is applicable here as it is with the rest of the data line (or you can use an F or M suffix override).</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" translate="true">Constraining Vectors</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The larger the variance the less weight the vector will be given when it is averaged with the entire data set. &#160;A special case worth noting is when zero variance is assigned. &#160;The override &quot;(0)&quot; insures that all components of the vector will be held fixed, or </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">constrained,</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> in the adjustment operation. &#160;Constrained vectors that are also traverses in loop systems will be identified as such by Walls in the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Geometry_page" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Geometry page</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> of the Review dialog, where the expression &quot;&lt;FIX&gt;&quot; replaces statistics that are not applicable in this case. &#160;If for some reason you inadvertently assemble a loop consisting entirely of constrained vectors, Walls will abort compilation and display an error message. &#160;(Walls is designed to do this even if the unadjusted loop closure is exactly zero.)</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Since the error properties of vertical shot measurements (i.e., +90 or –90 inclinations) are different from those of normal shots, the program offers a convenient way to control whether or not the vertical and/or horizontal components of such shots are, by default, to be constrained. &#160;These options can be set for specific surveys or for entire branches of the project tree. &#160;A discussion of the rationale behind constraining either type of component can be found in the description of the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Compile_Options_Page" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Compile Options Page</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> of the Properties dialog.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para styleclass="Normal"><text styleclass="Subheader" translate="true">Floating Vectors and Traverses</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">While numbers representing variances can be assigned, just as likely you&apos;ll be using a special override, an asterisk or question mark, to assign </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">infinite </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">variances to the horizontal and/or vertical components of specific vectors and traverses -- namely those shown to be bad or highly questionable by the data screening process. &#160;This operation, called </text><link displaytype="text" defaultstyle="true" type="topiclink" href="float" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">floating</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">, causes Walls to give zero weight to the corresponding measurements in the least-squares adjustment, effectively discarding them. &#160;If a question mark character (?) is used in place of </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">h</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> or </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">v</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> in the override expression, then just the vector is floated. &#160;If an asterisk (*) is used, then all vectors in the containing traverse are floated. &#160;During an adjustment, the entire discrepancy between a traverse and the remaining network (i.e., the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="best_correction" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">best correction</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">) is absorbed by the floated vectors. &#160;If the traverse has multiple floated vectors then the correction is proportioned out between them according to vector length.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Multiple members of a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="links" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">traverse chain</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> can also be floated this way -- an operation that will distribute the best correction across several traverses. To do this it&apos;s necessary to find a vector in </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">each</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> of the selected chain members and apply an asterisk override to the appropriate component. As when floating normal traverses, suitable traverse chain vectors are most easily found and linked to from the Review dialogs. In fact, floating traverse chains interactively rather than with variance overrides in data is usually done as a first step. See </text><link displaytype="text" defaultstyle="true" type="topiclink" href="TraverseChainBehavior" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Floating Traverse Chains</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Accommodating blunders is not the only possible justification for floating vector components. Suppose we want to define a vector that expresses </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">only</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> our knowledge that two stations A1 and B1 are at the same elevation, perhaps at a lake&apos;s surface. We could do this with the following CT data line:</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">A1</text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">B1</text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">0</text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">0</text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">0</text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">(?,0)</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Only the zero inclination measurement is relevant here since we are constraining the vertical component and floating the horizontal components. We are assuming that other parts of the survey are sufficient for computing the actual horizontal separation between A1 and B1. An analogous situation is a cave-to-surface radio location where only the horizontal, not vertical, separation is being measured. In this case we would float the vertical component but not the horizontal components. Also, since radio locations are subject to error, we probably wouldn&apos;t want to constrain the horizontal components to be zero. The vector definition for a radio location might be as above, but with a variance override something like (R2,?), where R2 specifies a 2-meter horizontal RMS error. (RMS errors are described below.)</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Floating a vector is not quite the same thing as assigning a very large numerical value to the variance. While the final location estimates would be essentially the same, the unit variance estimates (UVEs) would be slightly larger due to the fact that floating reduces the loop count. &#160;(The loop count appears as a divisor in the formula for UVE.) &#160;With regard to the statistics, floating both horizontal and vertical components of a traverse is exactly the same as detaching it by renaming an end station. &#160;In the former case, however, the loop system&apos;s apparent </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">geometry</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> doesn&apos;t change; floated traverses are still adjusted to achieve consistency when the map is drawn.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">In the case of blunders or bad closures it&apos;s usually preferable to float traverses interactively via the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Geometry_page" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Geometry page</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> of the review dialog rather than by &quot;hard coding&quot; them into the data files as described here. This way older data can easily be reevaluated as the survey is extended, and you are less likely to overlook unresolved problems. &#160;The advantage of hard coding is that you won&apos;t be facing the same distracting statistics each time you recompile your survey data. &#160;(Floated traverses are no longer &quot;bad&quot; and will appear near the bottom of the sorted list in the Geometry page.) &#160;Sometimes data screening can do no more than narrow a blunder&apos;s location to an obviously bad traverse, where the only reasonable course of action is to permanently float it, resurvey it, or throw it out completely.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Finally, if you acquire the habit of floating vectors in your data files, you may occasionally see a Walls compilation abort with the message, &quot;Too many vectors are floated&quot;. &#160;This means there exist traverse end points for which there is insufficient (unfloated) data to obtain estimates for both their horizontal and vertical locations. &#160;Interactively this can&apos;t happen since you are prevented from floating traverses that have been turned into </text><link displaytype="text" defaultstyle="true" type="topiclink" href="bridge" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">bridges.</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> You can, however, float multiple traverse chain members -- an operation that would produce this error message in earlier versions of Walls.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" translate="true">Expressing Variance as RMS Error</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Variance overrides are frequently used with #Fix directives, especially those defining GPS locations. For these cases it&apos;s convenient to use R-prefixed numbers for </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">h</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> and </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">v</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">.</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The number portion should be your estimate for the </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Root-Mean-Squared (RMS) </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">error, which is the </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">square root of the average squared position error </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">in feet or meters. For the horizontal part of the override, RMS error can be interpreted as the radius of a 63% confidence region. For the vertical part, RMS error is equivalent to the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="standard_deviation" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">standard deviation</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">, which defines a 68% confidence interval.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">For example, a variance override of (R4.5,R10) specifies that the probability is 0.63 that the 2-dimensional, horizontal error vector has length less than 4.5. It also specifies that the probability is 0.68 that the magnitude of the elevation error is less than 10. The default length units (feet or meters) are the same as for the coordinates themselves, but you can override the default by using an F or M suffix. If units are in feet, you could specify &#160;(R4.5F,R10F).</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">While RMS error has perhaps the simplest mathematical definition, there are other popular statistics for estimating accuracy. Converting one of those to a nearly equivalent RMS error is usually just a matter of multiplying by a constant. For instructions on how to do this, see </text><link displaytype="text" defaultstyle="true" type="topiclink" href="PositionAccuracy" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">GPS Position Accuracy Table</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. Although we&apos;re calling them variance assignments, RMS errors are in the same category as </text><link displaytype="text" defaultstyle="true" type="topiclink" href="standard_deviation" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">standard deviation</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. Walls will convert them to variances in a compilation.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Note that if you make an assignment like (R10), which is the same as (R10,R10), you won&apos;t be giving all three error components identical variances. The vertical component in this case would be given variance 10² = 100, while each horizontal component would be given half that variance, or 50. (You can confirm this by using the table: (0.71 x 10)² = 50). It so happens that this relationship between horizontal and vertical GPS accuracy is often observed in receivers capable of providing GPS-based elevations.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Given that many receivers display an Estimated Position Error (EPE), a statistic that takes into account satellite arrangement and other factors, why not support EPE values in variance overrides? The reason we don&apos;t is that manufacturers of consumer devices haven&apos;t documented how EPEs are calculated, or even what they mean exactly. Garmin International, for example, provides us with only this definition of EPE: &quot;A measurement of horizontal position error in feet or meters based upon a variety of factors including DOP and satellite signal quality.&quot; Evidently this isn&apos;t meant to imply that EPE is an estimate of the </text><text styleclass="Normal" style="font-style:italic;" translate="true">expected error</text><text styleclass="Normal" translate="true"> in a true statistical sense -- EPE would represent a 54% confidence region in that case. The EPEs of recent Garmin models appear to be more conservative than that, representing perhaps a 95% confidence region. In fact the statistical meaning of EPE hasn&apos;t been consistent across GPS receiver brands and models.</text></para>
    <para styleclass="Normal"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">A note of caution</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> regarding #Fix point variance overrides: Using unscaled RMS error estimates is recommended only if you&apos;re willing to accept that the default assignment for CT vectors is a reasonable approximation. That means you think UVEs of value one are at least achievable with your CT surveys. Otherwise, you may want to scale RMS error so that it reflects </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">relative variance</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> as described below.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><anchor id="RelativeVsTrue" style="font-family:Arial; font-size:9pt; color:#000000;"></anchor></para>
    <para styleclass="Normal"><text styleclass="Subheader" translate="true">Relative Variance vs True Variance</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The default variance assignment, &lt;length in feet&gt;/100 ft², was chosen simply to provide a reasonable magnitude for the UVE -- a range that includes the value one -- so that the latter can serve as a convenient measure of consistency. &#160;If we were to replace the denominator 100 with 1000, the adjustment results (station locations) would remain</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">exactly the same as before, but the UVEs displayed in Walls dialogs would be ten times larger. &#160;In other words, it is only the </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">relative</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> sizes of variances assigned to vectors that will affect our final estimates and, for that matter, the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="F_statistic" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">F-ratios</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> computed for traverses.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">If you find that your surveying produces UVEs that are consistently </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">smaller</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> than one, then it is indeed the case that the default variances </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">overestimate </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">the true error variances of your observations. &#160;But this in itself doesn&apos;t undermine the basic assumption of our simplified model, which is only that variances are proportional to traverse length. &#160;In fact, the UVE itself can be regarded as an unbiased estimate of a </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">variance scaling factor</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> which we are in effect treating as an unknown model parameter. &#160;(See </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Statistical_Formulas" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Statistical Formulas</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">.) &#160;Thus, an estimate for a vector component&apos;s true error variance is simply UVE x &lt;length&gt;/100 ft². &#160;If we were to actually assign these scaled variances, a recompilation by Walls would produce a new UVE close to 1.0. &#160;But there would be little advantage to doing so, as our final UVE would then cease to have any meaning.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" translate="true">Assigning Relative Variances to #FIX Stations </text><text styleclass="Subheader" style="color:#800000;" translate="true">(Updated)</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">The default variance assigned to a #fix station is zero, which completely constrains the station to the coordinates you specify. Unless the station is isolated, however, this is rarely justified, especially with regard to the elevation measurement. A surveyed traverse between two GPS locations, underground or not, might in fact be a better estimate of relative location than what a consumer-grade GPS receiver could provide. If we expect to have multiple fixed stations, say GPS locations connected together by compass-and-tape (CT) surveys, then we&apos;ll need to provide Walls with estimates of their accuracy. This is a technicality we can&apos;t avoid if we want Walls to make good use of all our data when computing final station coordinates.</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Normal"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">As described above, our methodology involves a default variance assignment that remains fixed for almost all of our CT surveys (whether or not it&apos;s realistic), and a resulting Walls-calculated variance scaling factor (</text><link displaytype="text" defaultstyle="true" type="topiclink" href="UVE" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">UVE</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">) that&apos;s likely to deviate from one. &#160;Realizing that what affects least-squares adjustment results are the </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">relative</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> weights assigned to vectors, we try to insure that all assigned variances reflect the </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">ratios</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> of the true variances of our vector observations -- at least as far as they&apos;re known. The numbers we place in parentheses, therefore, are not necessarily what we believe to be actual error variances, but instead represent relative variances. This applies not only to the occasional normal survey shot whose default variance we override, but also to the hidden vectors connecting #fix stations to the coordinate system&apos;s origin.</text></para>
    <para styleclass="Normal"></para>
    <para style="tabstops:24px left ;"><text styleclass="Normal" translate="true">Suppose, then, that we already have an accuracy estimate for a #fix station -- perhaps an RMS error estimate, or the radius of a 95% confidence region. What should we enter as the variance override? </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Well, if we were consistently obtaining an overall UVE of 2.0 with our CT surveys, and we believed it was representative of the quality obtainable in a particular project, then we might conclude that vector measurement error is behaving as if variances were twice that of the Walls default assignment. The default assignment would be </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">underestimating</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> the true variances of our CT vectors. Therefore, to preserve ratios, we need to similarly underestimate the true variances of any #fix or RECT vectors that could become part of a loop system.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Since the accuracy of a GPS location will normally be expressed as an RMS error estimate, we want to scale it so that the variance Walls computes from it has the correct ratio to the true variance. Since RMS error is proportional to the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="standard_deviation" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">standard deviation</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">, we simply </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">divide it by the square root of the UVE</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> (horizontal or vertical as appropriate). This way we&apos;ll be underestimating (or overestimating) the variance by the proper amount. If we were instead starting with a 95% confidence region or similar statistic, we would use the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="PositionAccuracy" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">GPS Position Accuracy Table</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> to convert it to an RMS error before doing the division.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">There is an alternative to scaling the GPS variance assignments to make them compatible, in a relative sense, to those of the CT default assignments. That is to scale the latter using </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Seldom_Used" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">UVH and UVV</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> parameter values -- values that would produce </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">expected</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> UVE&apos;s close to one assuming no blunders. We would have to avoid applying this parameter to the GPS fixes, where we would be using the unscaled RMS values as variance assignments. With this methodology, our goal in a large ongoing project would be to maintain overall UVEs close to one. My preference, however, is to stay with the default assignments for CT data, making the UVEs useful comparing surveys in different projects. With experience it&apos;s possible to acquire a sense of how large they should be.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" translate="true">Comparing GPS Locations with CT Traverses</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Using the same principle we could also express relative variance as a length value. You&apos;ll not need to do this, but we&apos;ll illustrate the method because it reveals an interesting relationship between GPS locations and CT traverses. Given that the default assignment for a CT vector is &lt;total length in feet&gt;/100 ft² for each vector component, we can use the table to derive the following approximate formula for the metric &quot;length&quot; value, h, in a horizontal component variance override:</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">h = &#160;3.28 x 100 x STDEV² / UveH &#160;= 328 x (0.71 x RMS)² / UveH = 164 x RMS² / UveH &#160;(metric units)</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">(The multiplier 0.71 approximates 1 / Sqrt(2) and is applicable only in the 2-dimensional case. The length formula for the vertical component would be v = 328 x RMS² / UveV.) Now suppose we are combining a </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">horizontal</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> GPS position with CT surveys whose UveH of 2.0 we have accepted as realistic. If the GPS position has an estimated RMS error of 6 meters, we would use the following length override:</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">(h,?) = (164 x 6² / 2.0,?) = (2952,?)</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">So assuming the GPS fix is part of a loop system -- in which case it must be connected by a CT traverse to at least one other #Fix point -- &#160;its displacement from the zero datum will be given the same weight in the adjustment as would be given (by default) to a 3 km-long CT traverse!</text></para>
    <para style="tabstops:24px left ;"></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">This might suggest that a 3 km traverse is as reliable as a typical GPS measurement taken at its end; however, length values this large can&apos;t be interpreted that way. As traverse lengths increase beyond a few hundred meters, the imperfect calibration of magnetic compasses against true north becomes a significant source of error -- at some point more significant than random measurement error. This problem, however, has implications for the weighting of long CT traverses, not #fix points. The topic </text><link displaytype="text" defaultstyle="true" type="topiclink" href="LongTraverses" styleclass="Normal" translate="true">Error Propagation in Long Traverses</link><text styleclass="Normal" translate="true"> suggests a couple of strategies for dealing with it.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"></para>
  </body>
</topic>
