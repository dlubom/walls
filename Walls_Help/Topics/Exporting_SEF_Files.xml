<?xml version="1.0" encoding="UTF-8"?>
<topic template="Default" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Exporting SEF Files</title>
  <keywords>
    <keyword translate="true">Exporting SEF Files</keyword>
  </keywords>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Exporting SEF Files</text></para>
    </header>
    <para styleclass="Normal"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">To create a SMAPS Exchange File (SEF) for a selected portion of your project, choose the menu option </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">File | Export branch... </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">while the desired branch of your project tree is highlighted. &#160;A dialog will appear that lets you specify certain characteristics of the generated file, along with its name and location. The following check boxes are presented -- all initially unchecked by default:</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Include detached branches</text></para>
    <para styleclass="Normal"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">When checked, all data files in the selected branch will be part of the exported data, even if they would be excluded from a Walls compilation due to </text><link displaytype="text" defaultstyle="true" type="topiclink" href="attached" styleclass="Normal" translate="true">detachment</link><text styleclass="Normal" translate="true">.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Convert name prefixes to numeric strings</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">A station name prefix, when concatenated with the base name, might exceed the SEF name length limit of 12 characters. If this is likely, you can insure a successful export by selecting this option to convert the prefixes to numeric equivalents. For example, CALENTURAS:A20 might appear as 12:A20 in the exported file. The numbers will be assigned to unique prefixes in the order they are encountered during processing. If you do not select this option and you have long name prefixes, the export operation might terminate with an error message.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Force length units to feet</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Some programs &#160;(e.g., WinKarst) evidently have difficulty with the SEF directives that specify length units. &#160;This option allows you to work around such limitations by converting any metric coordinates, shot lengths, and LRUD distances to feet. &#160;No #elevunits, #units, #mtunits, or #atunits directives will be written to the SEF file since feet is the default.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Use fixed column format (OnStation)</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The program OnStation v3 accepts only a restricted version of SEF -- a fixed-column format of the sort that SMAPS v5.2 exports. &#160;Some older versions of Walls also have this limitation. &#160;Although checking this box will create a larger SEF file, it increases the probability that programs like OnStation will be able to read it. &#160;As far as I know, compatibility with programs that don&apos;t require this setting is not harmed.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para styleclass="Normal"><text styleclass="Subheader" translate="true">SEF Export Limitations</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">An SEF export operation produces a data set consisting of unadjusted vectors and any associated LRUD measurements, all organized in an SEF directory hierarchy resembling the Walls project tree. &#160;Many things that define Walls data (notes, flags, name prefixes, segment attributes, floated or constrained components, etc.) are omitted because they aren&apos;t supported by the SEF format. &#160;The numbers representing measurements won&apos;t necessarily reflect the original units (Walls supports several formats). Also not evident, unfortunately, are the applied instrument corrections, whether or not backsights were involved, and possibly the declinations that were applied to particular shots. &#160;The control points (</text><link displaytype="text" defaultstyle="true" type="topiclink" href="FIX_Directive" style="font-family:Arial; font-size:9pt; text-decoration:underline; color:#000000;" translate="true">#FIXed stations</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">) and resulting coordinates will be true north relative, not UTM.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">While SEF seemingly allows the specification of many parameters describing raw survey measurements (e.g., #date, #decl, #fcc, #fic, etc.), their values can&apos;t vary within an individual #ctsurvey or #cpoint group. These groups become the named surveys (possibly even separate files) within the importing program. If we were to create a new #ctsurvey group with some sort of generated title every time one of these parameters changed (such a date change resulting in a new declination) then a large Walls project could conceivably be transformed into thousands of separate surveys. The result wouldn&apos;t resemble the original project tree with its named surveys. &#160;Another problem is the stress on importing software this would cause. &#160;If we tried using all of the SEF features intended to represent actual cave survey data, we would surely reduce to near zero the number of programs that could correctly import the result.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">So what you get with a Walls SEF export are vectors already transformed via a fairly complicated pipeline, just before they are submitted to the Walls adjustment module. &#160;The variances assigned to vectors and control points are necessarily omitted. The importing program will have to determine how data should be weighted during adjustment. &#160;Although the vectors in one compass and tape survey are assigned a declination, this is really an &quot;artificial&quot; value, the declination that happened to be in effect for the first vector in the survey. Still, when the declinations are applied you&apos;ll get the same north-relative network that Walls would have computed. </text></para>
    <para style="tabstops:24px left ;"></para>
  </body>
</topic>
