<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="David" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Importing SEF Files</title>
  <keywords>
    <keyword translate="true">Import of SMAPS 5.2 (SEF) Files</keyword>
  </keywords>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Importing SEF Files</text></para>
    </header>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">An SEF (SMAPS Exchange Format or Survey Exchange Format) &#160;import capability has been built into the program from the very beginning. &#160;Since a few other cave mapping programs can read this format, an </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Exporting_SEF_Files" styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">SEF export function</link><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> is also available, making the exchange of </text><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:italic; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">raw</text><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> survey data with another program more easily achievable. SEF is certainly limited in what it can represent, but at least Walls can import the files it exports.</text></para>
    <para styleclass=" " style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:27px; line-height:1.0; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"></para>
    <para style="tabstops:24px left ;"><text styleclass=" " style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">The import operation reads an SEF file and creates one </text><link displaytype="text" defaultstyle="true" type="topiclink" href="project_script_file" styleclass=" " style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">project script</link><text styleclass=" " style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> (WPJ file) and a sequence of associated SRV data files. While the project preserves the SEF directory hierarchy, the SRV files, normally one per named survey or control point group, will contain the raw measurement data in a recognizable form. &#160;Included are the instrument units and corrections, #DATE directives, and LRUD passage dimensions. </text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">To import an SEF, choose the </text><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:bold; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">FILE | Import &gt; SEF Data file...</text><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> from the Walls main menu. </text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><image src="SEF Import.png" scale="100.00%" styleclass="Image Caption"></image></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">Some types of data, while surviving a Walls round trip, might not be accepted or handled the same same way by other SEF-capable programs. Those types include instrument and target heights, the four taping methods, underwater surveys, TO and FROM station LRUDs, and starting and ending station LRUDs. To alleviate this problem for data exchange, the SEF export function allows the selection of two levels of detail, both ultimately producing exactly the same vectors and fixed points prior to network adjustment. See </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Exporting_SEF_Files" styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">Exporting SEF Files</link><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">Since the SEF format can&apos;t represent everything likely to be found in Walls data, some advanced features simply won&apos;t be involved, particularly those controlling how data will be displayed. Even the location estimates might differ noticeably if there are loops and the default variances have been overridden in the data. Missing for stations will be </text><link displaytype="text" defaultstyle="true" type="topiclink" href="station_note" styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">notes</link><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">, named &#160;</text><link displaytype="text" defaultstyle="true" type="topiclink" href="Flag_Directive." styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">flags</link><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">, and </text><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">multilevel </text><link displaytype="text" defaultstyle="true" type="topiclink" href="name_prefix" styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">name prefixes</link><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> (the latter being converted to a short prefix by the exporter). Missing for vectors will be </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Variance_Assignments" styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">variance assignments</link><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> (e.g., floated traverses) and user-added </text><link displaytype="text" defaultstyle="true" type="topiclink" href="segment_attributes" styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">segment attributes</link><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> that don&apos;t appear to be vector flags. (Trailing attributes such as &quot;P&quot; and &quot;L&quot;, are exported by Walls to SEF as shot types.) &#160;You&apos;ll likely want to add some of these features to the imported project.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para styleclass="Normal"><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">A Walls project created from an SEF file exported by another program will likely require some manual repairs due to limitations of the format and how the other developers used it. For the SEF definition I&apos;ve largely relied on SMAPS itself and a series of emails written by Doug Dotson in 1992. &#160;This function certainly doesn&apos;t support all elements of the format as it was originally described, such as include files and control points with lat/long coordinates</text><text styleclass="Normal" translate="true">. </text><text styleclass="Normal" translate="true">Unfortunately, Doug Dotson&apos;s SMAPS 5.2, which implemented the format, is evidently no longer compatible with modern PCs running Windows.</text></para>
    <para styleclass="Normal"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" translate="true">Generated Data Files</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The first four letters of the specified project name (the SEF file name by default) will be used by Walls to generate the 8-character file names of possibly many separate </text><link displaytype="text" defaultstyle="true" type="topiclink" href="survey_data_files" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">SRV data files</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">, normally one for each SEF compass and tape survey or control point group. For example, POWELLS.SEF will ordinarily give rise to POWELLS.WPJ, POWE0001.SRV, POWE0002.SRV, etc. &#160;Any existing files with those names will be overwritten without warning.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:10pt; font-weight:bold; color:#000000;" translate="true">Option: Combine a directory&apos;s surveys into one file</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The import dialog also offers the option to combine </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">adjacent</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> surveys in a SMAPS directory into a single file. &#160;This will create fewer files of larger size. With this option, individual survey names can still be represented as a component of the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="segment_attributes" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">segment attribute</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> assigned to vectors. The import should produce a usable segment tree.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" translate="true">Station Name Considerations</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">When station names longer than eight characters are encountered during the import operation, a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="name_prefix" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">prefixed</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> name is generated. &#160;For example, </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">NAME1234567</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> will become </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">NAM:E1234567</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">.</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true"> &#160;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">This is necessary because the base name length is limited to eight characters in Walls while SEF (and SMAPS) supports 12-character names. &#160;The only consequence of this is that just the last eight characters of the original names will be seen in certain program dialogs. Also, In Walls the prefixes are optionally excluded from name labels on maps. The SRV data files and coordinate listings will have the full prefixed names.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Font Style" style="font-family:Arial; font-size:10pt; font-weight:bold; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">Option: Interpret colons in names as prefix delimiters</text></para>
    <para style="tabstops:24px left ;"><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">Selecting this option will alter the behavior described below and cause colons in names to be accepted as prefix delimiters. This will likely be useful only when importing a Walls-created SEF (which of course I&apos;ve often had to do). If a base name longer than eight characters would result from keeping the colons, they are all replaced and a prefixed name is created. &#160;You&apos;ll be informed of such cases in the summary that&apos;s presented when the operation completes.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:10pt; font-weight:bold; color:#000000;" translate="true">Option: Replace chars in [ # : , ; &lt;sp&gt;] with...</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Five special characters, evidently possible in SEF station names, can&apos;t be used in Walls station names. &#160;Therefore, the pound sign (#), colon, comma, semicolon, and space character will, by default, be replaced with the tilde (~), vertical bar (|), back accent (`), &#160;caret (^), and at sign (@), respectively. &#160;For example, with the above &quot;Interpret colons...&quot; option unchecked, &#160;the name </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">PEP:TEC100</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> will be converted to &#160;</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">PE:P|TEC100</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. &#160;Since there&apos;s a possibility that these replacements will themselves cause name conflicts, the import dialog lets you customize the replacement characters. The import summary will report which substitutions were necessary.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para styleclass="Normal"><text styleclass="Subheader" translate="true">Importing Georeferenced Projects</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:10pt; color:#000000;" translate="true">If</text><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> the control points defined in the SEF have UTM coordinates, only the zone, not the geodetic datum, can be specified using SEF statements as far as I can tell. Therefore, if UTM coordinates are seen during the import operation, upon completion you&apos;re informed of the need to establish a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Geographical_Reference_Page" styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">geographical reference</link><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true"> and to check the box that enables generation of UTM coordinates. Hopefully the datum will be either known or indicated by comments in the SEF file.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" translate="true">Declination Issues</text></para>
    <para style="tabstops:24px left ;"><text styleclass="Font Style" style="font-family:Arial; font-size:9pt; font-weight:normal; font-style:normal; text-decoration:none; text-transform:none; vertical-align:baseline; color:#000000; background-color:transparent; letter-spacing:normal; letter-scaling:100%;" translate="true">There are two ways declinations can be specified in a Walls data file: indirectly by date and directly as a #units directive setting. A setting of &#160;&quot;decl=0&quot;, for example, will override any declination derived from a preceding #date directive, resetting it to zero. This behavior could have been intended or not, depending on the instruments used for the survey. Therefore, when Walls imports an SEF file, the ordering of the #date and #decl directives in the SEF text will determine the ordering of the #date and #units directives in the data file that&apos;s written. To help guard against mistakes in directive ordering, caution messages will appear at locations where a zero declination assignment follows the &#160;#date directive. (When Walls imports Compass data directly, the #date directive will always follow the #units directive.)</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"></para>
  </body>
</topic>
