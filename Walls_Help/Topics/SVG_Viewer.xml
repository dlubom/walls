<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="David" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Walls2D SVG Viewer</title>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Walls2D - SVG Map Viewer</text></para>
    </header>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Walls2D is a browser-like application designed to recognize the Scalable Vector Graphics (SVG) files generated by Walls. It also works if the files have been modified and rewritten by an SVG editor, such as Adobe Illustrator. This means that if the SVG file has any of the named groups described in </text><link displaytype="text" defaultstyle="true" type="topiclink" href="SVG_Layers" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">SVG Layer Definitions</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> (specifically w2d Walls, w2d Detail, w2d Survey, w2d Labels, w2d Notes, w2d Flags, and w2d Grid) their display can be toggled on and off via toolbar buttons. The program will also recognize georeferencing information in a group named w2d Ref. As you move the mouse cursor across the program&apos;s window, coordinates will be displayed on the status pane.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Other types of SVG files, even normal Web pages and URL addresses, can be accessed as well. That&apos;s because Walls2D functions as a container for Microsoft&apos;s Internet Explorer browser control, a component of most Windows installations. (IE version 5.5 or greater is required.) The latest version of IE is available as a free upgrade at </text><link displaytype="text" defaultstyle="true" type="weblink" href="http://www.microsoft.com/windows/ie/" target="_blank" style="font-family:Arial; font-size:9pt; text-decoration:underline; color:#0000ff;" translate="true">www.microsoft.com/windows/ie</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">.)</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The program also functions as a container for Adobe Systems&apos; free SVG viewer plug-in, ASV 3. You&apos;re actually using ASV&apos;s functions when you zoom and pan a displayed map via the keyboard and mouse. When an SVG document first loads, you&apos;ll see this message on the status pane: &quot;To navigate: &#160;CTRL-drag to zoom in, &#160;CTRL-SHIFT-click to zoom out, &#160;ALT-drag to pan, right-click to access other functions.&quot; Clicking the right mouse button, for example, opens Adobe&apos;s context menu. From there, you can select Help to obtain more information about available functions.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#800000;" translate="true">Updated:</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> Adobe&apos;s plug-in is not part of the Walls installation package. When Walls2D attempts to open an SVG file, it checks to see if ASV 3+ is already installed on your system. If not, you&apos;re informed of this and an About box displays a link that (last I checked) no longer leads us to the plug-in. Instead, you can use a </text><link displaytype="text" defaultstyle="true" type="weblink" href="http://download.adobe.com/pub/adobe/magic/svgviewer/win/3.x/3.03/en/SVGView.exe" target="_blank" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">direct  link to the setup file</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> at Adobe&apos;s website. Just download and run the setup executable (SVGView.exe). Except for the 2.2 MB file transfer, the process is fast and simple; there are no installation options.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Important: </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> If you last installed ASV prior to an upgrade to Internet Explorer 9 or newer, you&apos; likely need to reinstall ASV.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Walls2D keeps a list of recently-opened SVGs, opening the most recent one if it&apos;s launched without an argument. If there are no recent SVGs, it tries to open a compressed SVG file named &quot;walls2D.svgz&quot; in the Walls2D program directory. (A small sample map comes with the Walls installation.) One way to send someone an SVG map you&apos;ve created is to save it as a compressed SVG named &quot;walls2D.svgz&quot;, then bundle it in an archive with walls2D.exe. Note that one of the choices in Adobe&apos;s context menu saves the loaded document as either a compressed or uncompressed SVG file.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" translate="true">More Details</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Another context menu choice is to view the loaded SVG file as text (&quot;View Source&quot;). If the SVG was exported from Walls, you&apos;ll see comments that describe (to a minimal extent) the file structure and how you might change certain display attributes with a text editor. If you&apos;re inclined to explore further, you may want to know how Walls2D communicates with the SVG document when displaying layers, coordinates, and so forth. When instructed to open an SVG file (extension svg or svgz), the program doesn&apos;t load the file directly. Instead, it generates a small HTML &quot;wrapper&quot; file (walls2D.htm) and instructs the browser control to load it. The HTML contains a reference to the SVG file and also a set of JavaScript functions serving as the communications link. Walls2D uses one of those functions to determine which of the above named groups, or layers, exist in the SVG. The corresponding toolbar buttons are then grayed out for those layers that don&apos;t exist. The HTML wrapper file is not erased; the last one generated can be found in the Windows %TEMP% directory, which in Windows Vista is normally &quot;C:\Users\&lt;name&gt;\AppData\Local\Temp.&quot;</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" translate="true">Planned Features</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Since an SVG can have image elements (linked PNG files), a planned enhancement is support for another layer named &quot;Image&quot;. This will be a PNG background image that the Walls export function takes from a georeferenced TIFF (or PNG) file attached to the project. The next Walls2D release will also offer a better printing function (see below) and a way to convert the current view to a raster image with a specified resolution.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" style="font-weight:bold; color:#000000;" translate="true">Future Availability of Adobe&apos;s SVG Viewer </text><text styleclass="Subheader" style="font-weight:bold; color:#800000;" translate="true">(New)</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Although Adobe ended official support of the viewer in January 2009, the </text><link displaytype="text" defaultstyle="true" type="weblink" href="http://www.adobe.com/svg/pdfs/ASV_EOL_FAQ.pdf" target="_blank" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">ASV EOL FAQ</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> states the following :</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">Adobe does not currently have plans to remove Adobe SVG Viewer from the Adobe.com download area. Adobe recognizes that customers have built Web applications that depend on ASV being available for download, and although Adobe does not plan to develop ASV further, we plan for the existing versions to be available for download as long as our customers rely on them.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:10pt; color:#000000;" translate="true">The FAQ also mentions some limitations of the viewer when running under Windows Vista, such as the View Source context menu option not working. (This does in fact work on my system running Vista 64-bit SP1 and Windows 7 64-bit.) These limitations are apparently minor and don&apos;t affect the functioning of Walls2D. Nevertheless, I&apos;m investigating other options for rendering SVG content.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text styleclass="Subheader" translate="true">Printing Bug Workaround</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Walls2D provides the usual IE-based printing functions in the File menu: Print, Page Setup, and Print Preview. Unfortunately, due to a bug in IE&apos;s interface with ASV 3.0, the standard print procedure will likely result in a poor-quality map with the wrong aspect ratio. (The grid cells, for example, won&apos;t be square.) Accidentally, I discovered the following workaround for obtaining a printout with the correct aspect ratio:</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">1) After Walls2D is opened, select File | Page setup and choose landscape mode.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">2) Next, select File | Print Preview. The first time you do this, you&apos;ll see a fairly crude rendering of the map. Also, the aspect ratio will probably be wrong, just like with a printed version. Note that if you right-click on the image, no context menu pops up.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">3) At this point, close the preview window by clicking on the &apos;X&apos; at the extreme upper-right corner of the window. Important: Do </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">not </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">close it by clicking on the toolbar button labeled &quot;Close&quot;. If you do, the next step doesn&apos;t work!</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">4) Again, select File | Print preview. This time (and at subsequent times) the preview image will look different. You will have the original non-zoomed view and the quality will be better. Also, a right-click of the mouse will bring up Adobe&apos;s context menu. You can then use the mouse (and only the mouse) to zoom to the portion of the image you want to print. Be careful not to touch the keyboard! Pressing ALT, for example, will crash the print preview function, producing the message, &quot;There was an internal error, and Internet Explorer is unable to print this document.&quot;</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">5) Finally, print the image by selecting &quot;Print..&quot; from the Print Preview window toolbar. You should get a good result.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The only problem I&apos;ve found with this bizarre workaround is that any layer visible when the document was loaded will be present in the printout, even though you may have toggled it off. Therefore, it helps that the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="SVG_Export_Dialog" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">SVG export function</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> of Walls lets you choose which layers are initially visible. This bug occurs not only with Walls2D, but also with IE/ASV when accessing many of the SVG files posted on the Internet. Only certain kinds of SVGs seem to be affected: those intended to fill the browser window, but in a manner that preserves aspect ratio. That&apos;s the kind Walls2D needs to display and print.</text></para>
    <para style="tabstops:24px left ;"></para>
  </body>
</topic>
