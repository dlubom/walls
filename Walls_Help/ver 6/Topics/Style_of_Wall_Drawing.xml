<?xml version="1.0" encoding="UTF-8"?>
<topic template="Default" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Passage Display Options</title>
  <keywords>
    <keyword translate="true">wall shots</keyword>
  </keywords>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Passage Display Options</text></para>
    </header>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">This dialog controls how passage wall information is displayed on maps. It is accessed by clicking the Passage button the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Map_Page" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Map Page&apos;s</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> control panel, or by double-clicking the Passage Outlines tree node on the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Segment_Page" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Segments Page</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. All but one of these settings will be preserved in the workfiles for the compiled project tree item. The outline width, an SVG-specific setting, applies to all projects.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">These options have no effect if passage drawing is not enabled on the Map Page (</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Passage</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> check box), or if the compiled data set has neither processed SVG data or passage dimension data. The latter can be conventional </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Vector_Data_Lines" anchor="LRUD" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">LRUDs</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">, LRUDs with a specified facing direction (no associated vector), passage </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Vector_Data_Lines" anchor="Wall_Shots" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">wall shots</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">, or a mixture of all kinds.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><image src="lrudstyle.png" scale="100.00%" style="font-family:&apos;MS Sans Serif&apos;; font-size:8pt; color:#000000;"></image></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">It may help to know the order in which enabled map objects are drawn on the window or page. First, the window is filled with the background color. Next, the passage representation is drawn. This consists of either filled SVG passage outlines or the LRUD-wall shot representation. Finally, the LRUD dimension lines, grid, survey vectors, station markers, station flag symbols, and station labels and notes are drawn in that order. The result is that passage drawing should never interfere with vectors and annotation assuming you assign non-conflicting colors via the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Segment_Page" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Segments Page</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">There&apos;s also the option of omitting all annotation, including the survey vectors, to leave only cave passages. To omit vectors, choose the &quot; no lines&quot; line style on the Segments page&apos;s control panel when the appropriate (usually main) branch of the segment tree is selected. You can also turn off vectors in a Display map window via the right-click context menu.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para styleclass="Normal"><text styleclass="Subheader" translate="true">SVG Options for Plan Views</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">If you&apos;re running Windows NT/2000/XP or later, Walls can display on its own plan maps (not profiles) outlined floor areas as defined by the mask layer of a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Source_SVG" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">source SVG</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. This capability is unavailable under Windows 9x/ME, in which case the check box in this section of the dialog will be grayed out. Note that all other SVG operations, including roundtripping, are supported on all platforms.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The check box specifies whether or not SVG data are to be used for passage rendering when its available. It&apos;s available when the most recent compilation produced a workfile with extension NTW. Two conditions are necessary for this to happen when a project book item is compiled: 1) an SVG source file with a mask layer is </text><link displaytype="text" defaultstyle="true" type="topiclink" href="attached" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">attached</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> to the project tree as a child of the compiled item, and 2) the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Compile_Options_Page" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Compile Options</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> property, </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Process source SVG if one is attached</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">, is enabled for that item. Note that the status of these two conditions is displayed in this dialog. The information you need to create an SVG file containing a mask layer (named w2d_Mask) is presented in </text><link displaytype="text" defaultstyle="true" type="topiclink" href="SVG_Layers" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">SVG Layer Definitions</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The other SVG-related setting in this dialog, </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Outline width...</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">, determines the actual thickness of passage outlines when the &quot;thick&quot; line style is selected for the </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Passage Outlines</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> node of the segment tree. Unlike the other line styles, which produce a minimal-width line regardless of the map&apos;s scale, the thick style in this case produces lines that become thicker as the scale becomes larger. The default setting of 1.0 produces a 1-point (1/72 in.) thick line in page units when the scale is 1&quot; = 15 ft. In world units, this is a 2.5-inch thick wall that appears to maintain it&apos;s thickness as you zoom in to larger scales. A setting of 2.0 produces 5-inch thick walls, 4.0 produces 10-inch thick walls, and so forth. The outline width setting is not project specific but is preserved as part of the program&apos;s profile. </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Note:</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> Thick lines are very slow to display compared to 1-pixel lines.</text><tab /></para>
    <para style="tabstops:24px left ;"></para>
    <para styleclass="Normal"><text styleclass="Subheader" translate="true">Passage Display Options</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The three choices you have for displaying passage dimension data are as follows:</text></para>
    <para style="tabstops:24px left ;"></para>
    <list id="1" type="ul" listtype="bullet" formatstring="·" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" style="text-indent:-13px; margin-left:13px; tabstops:13px left,24px left ; font-family:Symbol; font-size:9pt; color:#000000;">
      <li style="text-indent:-13px; margin-left:13px; tabstops:13px left,24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">SVG outlines or LRUD polygons</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - If the SVG mask layer is enabled and available, an outlined passage floor region will be drawn. The outline will either be absent or solid (not dashed) and, if present, will have either a scaled or non-scaled thickness. The line style setting for the </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Passage Outlines</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> node of the segment tree will determine these characteristics. Choosing the thick line style will cause outline thickness to be scaled as described above. Any other choice besides &quot;no lines&quot; will produce a thin solid outline. The node&apos;s setting also determines outline color. If the SVG mask layer is </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">not</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> enabled, passage will be drawn as non-outlined, filled LRUD polygons. In either case, the fill color is that set for </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Passage floors</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. Note that while LRUD polygons can be gradient filled, the SVG floor region will be filled with the last-selected solid color.</text></li>
    </list>
    <para style="tabstops:24px left ;"></para>
    <list id="1" type="ul" listtype="bullet" formatstring="·" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" style="text-indent:-13px; margin-left:13px; tabstops:13px left,24px left ; font-family:Symbol; font-size:9pt; color:#000000;">
      <li style="text-indent:-13px; margin-left:13px; tabstops:13px left,24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">LRUD dimension lines </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - Most attributes of the </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Passage Outlines</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> node setting will be used to draw LRUD dimension lines and lines representing </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Vector_Data_Lines" anchor="Wall_Shots" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">wall shots</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. The thick line style setting, however, will cause thin solid lines to be drawn.</text></li>
    </list>
    <para style="tabstops:24px left ;"></para>
    <list id="1" type="ul" listtype="bullet" formatstring="·" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" style="text-indent:-13px; margin-left:13px; tabstops:13px left,24px left ; font-family:Symbol; font-size:9pt; color:#000000;">
      <li style="text-indent:-13px; margin-left:13px; tabstops:13px left,24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Both floors and dimension lines</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - This selection causes both passage floor regions and LRUD dimension lines to be drawn in the styles applicable to each feature when chosen individually.</text></li>
    </list>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Length in meters to extend LRUD dimensions for polygon drawing</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - This option is useful for creating a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Exporting_Maps" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">metafile </link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">map export that can be manipulated in a drawing program to produce gradient-colored passage floors. This can be done as part of the SVG roundtripping process. Making the polygons larger allows portions outside the drawn passage walls to be clipped so that floor regions are entirely covered.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">factor to control passage width at turns</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> is a number ranging from 0 to 10. Its purpose is to compensate for the common practice of obtaining just one LRUD measurement set at each station along a cave passage. A value of 0 would instruct the program to simply connect the endpoints of the LRUD cross section bars when constructing passage polygons. In many cases this would cause an undesirable narrowing of the polygon as it either approaches or leaves a station where there is a change in passage direction. A value of 10 causes a second LRUD bar to be generated in such circumstances, one that&apos;s rotated (no more than 90 degrees) so that it&apos;s perpendicular to the passage that would otherwise be narrowed. This is an approach similar to the one adopted by Larry Fish&apos;s COMPASS program. The effect is an enlargement, or smoothing of the passage outline at turns -- not much different from treating LRUDs as if they were the bisector type. The downside is that this can create unrealistic effects when passages are irregular and large compared to shot length. The default value of 5 is a compromise. It rotates the second bar only half as much.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">No such passage enlargement occurs when there are multiple LRUDs or wall shot rays obtained at a station. Wall shot rays are defined by way of a recent extension of the SRV data format. For example, here is a sampling of several kinds passage dimension data:</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">A1</text><tab /><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">A2 </text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">25 </text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">270 </text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">+3 </text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">&lt;13,18,5,0&gt;</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">A1 </text><tab /><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">- </text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">10 </text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">210</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">- </text><tab /><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">A1 </text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">12 </text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">300 </text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">+10</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">A1</text><tab /><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">-</text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">2.5</text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">--</text><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">+90</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">A10</text><tab /><tab /><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">&lt;5,11,2,1,325&gt;</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The main distinction of a wall shot is that a minus sign (- or --) is used for one of the names. Like LRUDs, the processed data will be used </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">only</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> for the representation of walls. They don&apos;t contribute to survey statistics nor do they appear on the preview map. Reasonably accurate outlines of large rooms and passage junctions can be achieved this way when vector-associated LRUDs would be too limited by themselves.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Note that the last line in the above example illustrates another recent data format addition, an LRUD assigned to an isolated station (A10 in this case). The fifth number is an azimuth, the LRUD&apos;s facing direction, which is now optional in any LRUD specification. For more information, see the LRUD and Wall Shots sections under </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Vector_Data_Lines" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Vector Data Lines</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Ambiguity of Vertical Shot LRUDs</text></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Unfortunately, I&apos;ve yet to see a set of guidelines that specify what </text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">facing direction</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> to assume for an LRUD associated with a vertical shot. That&apos;s apparently left up to the surveyors, who are free to pick between two reasonable choices. For the time being, Walls takes the following approach: The direction of the previously established vector takes priority if it is not vertical and the TO name matches the current FROM name. Otherwise, the direction is obtained from the next established vector if it qualifies. If neither vector qualifies, the LRUD is ignored and a non-fatal error is written to the error log. Start-station and end-station LRUDs which are &quot;orphaned&quot; this way are similarly treated. The best solution, of course, is for surveyors to explicitly specify the facing direction, as for station A10 in the above example.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Profiles present yet another ambiguity when shots are vertical. For example, should the station-to-floor distance extend to the bottom of the drop or to the lip of the drop? For what it&apos;s worth, the current profile drawing algorithm makes assumptions that favor the lip-of-drop method.</text></para>
    <para style="tabstops:24px left ;"></para>
  </body>
</topic>
