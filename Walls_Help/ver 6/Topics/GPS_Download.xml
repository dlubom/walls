<topic template="Default" lasteditedby="David" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">Downloading GPS Data</title>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">Download of GPS Data</text></para>
    </header>
    <para styleclass="Normal"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">The direct download of GPS receiver data is currently restricted to the popular consumer models made by Garmin. Although there are differences between them, Garmins are able to describe their capabilities when sent special commands. This enables GPS software, including Walls, to account for various limitations and to work at least on some level. For example, the GPS V stores altitudes with track points while the GPS III doesn&apos;t. Unfortunately, while there exists a widely supported GPS interface (NMEA) that&apos;s suitable for some purposes, we must use the device manufacturer&apos;s proprietary interface to access stored track logs. The ability to convert track logs to traverses is useful for creating karst feature maps showing roads and trails. Also, processing points in a track log taken at one location is a good way to increase the accuracy of a position estimate and to determine what kind of weight to give it when it&apos;s combined with other data.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">To download tracks and/or waypoints stored in a Garmin GPS receiver, select </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true"> Download GPS Data </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">from the File menu. (Downloading of routes, another GPS data type, is</text><text style="font-family:Arial; font-size:9pt; font-style:italic; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">not supported.) The dialog box shown here will open:</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><image src="GPS_EXP.bmp" scale="100.00%" style="font-family:&apos;MS Sans Serif&apos;; font-size:8pt; color:#000000;"></image></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">It&apos;s not necessary that a project already be open in Walls since the download operation will create a ready-to-compile </text><link displaytype="text" defaultstyle="true" type="topiclink" href="project_script_file" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">WPJ file</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> and one or more attached data files. The data files, one for each represented UTM zone, will have individually assigned </text><link displaytype="text" defaultstyle="true" type="topiclink" href="geographical_reference" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">geographical references</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> using the WGS84 datum. If you specify a restricted region of interest for retrieved data, the reference&apos;s location will be that of the named waypoint at the region&apos;s center. Otherwise, the reference&apos;s location will be that of the first recorded waypoint or track point. The project root folder will be assigned the same geographical reference as that of the first (topmost) data file. Also, only the first data file will be attached to the root with a connecting line. Therefore, compiling either the root or the first tree item will process the first zone&apos;s data. The data files representing additional zones will be detached from the root. They have to be compiled individually since the program currently doesn&apos;t support compilations spanning multiple UTM zones.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">If you wish, you can </text><link displaytype="text" defaultstyle="true" type="topiclink" href="drag" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">drag</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> any of those data files to another project window -- an operation that preserves the properties stored in the original WPJ file, including the references. The parent branch in the destination project can have a different geodetic datum (such as NAD27), in which case Walls will perform a datum conversion when the parent is compiled.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para styleclass="Normal"><text styleclass="Subheader" translate="true">Dialog Settings and Controls</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Test Connection</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - You should click this button after connecting and turning on the receiver, but before starting the download. This is to verify that the device is successfully communicating at 9600 bps, the speed used by Garmin&apos;s default protocol, GARMIN or GARMIN/HOST. If all is well, the receiver&apos;s Coordinated Universal Time (UTC) will soon appear in a status box at the button&apos;s right (see above example).</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Serial Port</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - The name of the RS-232 serial port you connected the receiver to - a choice between COM1 through COM6. The program remembers the last port you used.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">WPJ Pathname</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - The location and name of the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="project_script_file" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">WPJ file</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> that will be created and then opened. You can use the </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Browse </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">button to select or create an appropriate folder. The data files will be written to the same folder and given names like MIXA-14R.SRV, MIXA-15S.SRV, etc., where the first four characters are taken from the WPJ file name and the last three characters specify the UTM zone. You are warned if this would entail overwriting existing files.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Data to Retrieve</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - You can download waypoints, &#160;track logs, or both data types. In the latter case, waypoints and tracks in a particular UTM zone are stored in the same SRV data file, waypoints first. Although it won&apos;t make the download faster, you can save to the project only those waypoints and track segments that lie within a specified horizontal distance of a named waypoint. In the above example, anything beyond 20 kilometers of waypoint MIXENT will be excluded from the project. If the</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true"> All data within</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> box is unchecked, every waypoint and/or track segment will be represented.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Here is how waypoints and tracks are represented in the file:</text></para>
    <para style="tabstops:24px left ;"></para>
    <list id="1" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" style="text-indent:-24px; margin-left:24px; tabstops:24px left ; font-family:Symbol; font-size:9pt; color:#000000;">
      <li style="text-indent:-24px; margin-left:24px; tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Waypoints</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - All waypoints in the UTM zone appear as </text><link displaytype="text" defaultstyle="true" type="topiclink" href="FIX_Directive" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">#FIXed stations</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> with UTM coordinates. They are placed in a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="segment_attributes" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">segment</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> named &quot;Waypoints.&quot; Elevations may be present or absent depending on the receiver model. The stations have names identical to the waypoint names (up to 8 characters) and also have </text><link displaytype="text" defaultstyle="true" type="topiclink" href="name_prefix" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">name prefixes</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> indicating the zone, such as WP-14R. The waypoint comment is saved as the station&apos;s </text><link displaytype="text" defaultstyle="true" type="topiclink" href="station_note" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">note</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">, usually a timestamp unless it was changed in the field. Garmin&apos;s name for the waypoint symbol is saved as the station&apos;s </text><link displaytype="text" defaultstyle="true" type="topiclink" href="station_flag" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">flag</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">.</text></li>
    </list>
    <para styleclass="Normal"></para>
    <list id="1" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" style="text-indent:-24px; margin-left:24px; tabstops:24px left ; font-family:Symbol; font-size:9pt; color:#000000;">
      <li style="text-indent:-24px; margin-left:24px; tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Depending on the GPS model, waypoint names can have a maximum length of anywhere from 6 to 15 characters. Since station names in Walls are limited to 8 characters in length (excluding prefix), a waypoint named &quot;CAVE ENTRANCE&quot; in a GPS V, for example, will appear in the project as &quot;CAVE_:ENTRANCE&quot;. The zone-derived name prefix, in this case, is replaced with &quot;CAVE_&quot;. Also, any space characters in the name are converted to underline characters.</text></li>
    </list>
    <para styleclass="Normal"></para>
    <list id="1" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" style="text-indent:-24px; margin-left:24px; tabstops:24px left ; font-family:Symbol; font-size:9pt; color:#000000;">
      <li style="text-indent:-24px; margin-left:24px; tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Tracks</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - Each track log segment in the UTM zone is represented by a #FIXed station followed by a series of </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Vector_Type" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">RECT</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> vectors forming a traverse. The traverse is given a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="segment_attributes" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">segment</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> name, &quot;Tracks/Log Name/yy-mm-dd&quot;, where Log Name is the name of the track log and yy-mm-dd is either the date when the segment&apos;s first track point was logged or else the date of download. The track points won&apos;t have timestamps if the track log was originally uploaded to the GPS from a file. Timestamps are also missing from &quot;saved&quot; track logs with names other than &quot;ACTIVE LOG&quot;. Garmin&apos;s newer GPS models provide the option of creating a named track log from all or part of the active log, a process that discards &quot;unnecessary&quot; track points as well as timestamps. Also, the individual track segments are merged to form a single segment in the saved version. For this reason you&apos;ll want to retain as much data as possible in the active log before tracks are downloaded. Both the active log and all saved logs are included in the download.</text></li>
    </list>
    <para styleclass="Normal"></para>
    <list id="1" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" style="text-indent:-24px; margin-left:24px; tabstops:24px left ; font-family:Symbol; font-size:9pt; color:#000000;">
      <li style="text-indent:-24px; margin-left:24px; tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Each station in the traverse is given a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="name_prefix" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">prefixed</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> name of the form &quot;yy-mm-dd:hh.mm.ss&quot; &#160;indicating the track point&apos;s time of logging when it&apos;s available. When a timestamp isn&apos;t available, yy-mm-dd is the download date and hh.mm.ss is replaced with a sequence number. The #FIXed station (first track point) is assigned a </text><link displaytype="text" defaultstyle="true" type="topiclink" href="station_flag" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">flag</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> named &quot;Track start.&quot; No </text><link displaytype="text" defaultstyle="true" type="topiclink" href="station_note" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">notes</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> are assigned.</text></li>
    </list>
    <para styleclass="Normal"></para>
    <list id="1" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" style="text-indent:-24px; margin-left:24px; tabstops:24px left ; font-family:Symbol; font-size:9pt; color:#000000;">
      <li style="text-indent:-24px; margin-left:24px; tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Finally, each track segment will have a #Units directive containing an assignment of the form &quot;rect=n grid=n&quot;, where n is the UTM </text><link displaytype="text" defaultstyle="true" type="topiclink" href="grid_convergence" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">grid convergence</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> calculated for the track segment&apos;s starting point. The &quot;grid=n&quot; assignment overrides the convergence corresponding to the data file&apos;s </text><link displaytype="text" defaultstyle="true" type="topiclink" href="geographical_reference" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">geographical reference</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. The &quot;rect=n&quot; assignment specifies that the RECT vectors in the traverse are grid-relative rather true north-relative.</text></li>
    </list>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Break Track when Point Separation Exceeds</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">&#32;</text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">(5000 m)</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - When a track log is being recorded, Garmin receivers usually start a new track segment whenever a satellite lock is reacquired after being lost. This apparently doesn&apos;t happen with all models, however. Also, the segmentation is lost when the active track log is &quot;saved&quot;. As a result, very long lines can appear on your map when they&apos;re not wanted. Here you can specify the maximum distance allowed between adjacent track points before the program removes the connecting line.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Convert Times to Local </text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">- Times stored in the receiver are based on Coordinated Universal Time (UTC). Enabling this option insures that all times written to data files, such as those in track point names, are first converted to local times as determined by settings in the computer where Walls is running. These times are not necessarily local to the places where GPS positions were recorded.</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Write CSV File Also</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - Check this box to create a Comma Separated Value file (extension CSV) in addition to the data files described above. This is a simple text file with date of download, datum name, and position data beneath the following column labels: TYPE, NAME, ZONE, EASTING, NORTHING, ELEV, DATE, TIME, SYMBOL, and COMMENT. The CSV file is attached to the project tree&apos;s root as an item of type </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Other_items" style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">Other</link><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true">. &#160;Also, the Launch Option is set to Open, which means that double-clicking the item&apos;s icon will open the file in whatever program is associated with extension .CSV. You might want to use Microsoft Excel, for example, to compute the coordinate means and standard deviations of track points obtained with the receiver stationary. (If you have Excel, it&apos;s likely already associated with CSV files.)</text></para>
    <para style="tabstops:24px left ;"></para>
    <para style="tabstops:24px left ;"><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Start Download</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> - When this button is selected, the status window (to the right of &quot;Test Connection&quot;) will begin serving as a progress indicator, showing download counts and totals for the waypoints followed by the track points. At any time you can </text><text style="font-family:Arial; font-size:9pt; font-weight:bold; color:#000000;" translate="true">Cancel</text><text style="font-family:Arial; font-size:9pt; color:#000000;" translate="true"> the operation, such as when a connection to the device can&apos;t be established or when it&apos;s broken (intentionally or not). When that happens you&apos;re prompted to either save or discard what was successfully downloaded.</text></para>
  </body>
</topic>
